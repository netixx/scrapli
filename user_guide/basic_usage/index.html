
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Scrapli: fast, flexible, sync or async, telnet/ssh/netconf">
      
      
      
        <meta name="author" content="Carl Montanari">
      
      
        <link rel="canonical" href="https://github.com/carlmontanari/scrapli/user_guide/basic_usage/">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.4">
    
    
      
        <title>Basic Usage - Scrapli</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.77f3fd56.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="black" data-md-color-accent="teal">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#basic-usage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://github.com/carlmontanari/scrapli" title="Scrapli" class="md-header__button md-logo" aria-label="Scrapli">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Scrapli
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Basic Usage
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/carlmontanari/scrapli" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    carlmontanari/scrapli
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://github.com/carlmontanari/scrapli" title="Scrapli" class="md-nav__button md-logo" aria-label="Scrapli">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Scrapli
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/carlmontanari/scrapli" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    carlmontanari/scrapli
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Scrapli
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        User Guide
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="User Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        Quick Start Guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../project_details/" class="md-nav__link">
        Project Details
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../versioning/" class="md-nav__link">
        Versioning
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Basic Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Basic Usage
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#picking-the-right-driver" class="md-nav__link">
    Picking the right Driver
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-driver-arguments" class="md-nav__link">
    Basic Driver Arguments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#opening-and-closing-a-connection" class="md-nav__link">
    Opening and Closing a Connection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sending-commands" class="md-nav__link">
    Sending Commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-object" class="md-nav__link">
    Response Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sending-configurations" class="md-nav__link">
    Sending Configurations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#textfsmntc-templates-integration" class="md-nav__link">
    Textfsm/NTC-Templates Integration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cisco-genie-integration" class="md-nav__link">
    Cisco Genie Integration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ttp-integration" class="md-nav__link">
    TTP Integration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-prompts" class="md-nav__link">
    Handling Prompts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telnet" class="md-nav__link">
    Telnet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-config-support" class="md-nav__link">
    SSH Config Support
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../advanced_usage/" class="md-nav__link">
        Advanced Usage
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../linting_testing/" class="md-nav__link">
        Linting and Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        API Docs
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API Docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          API Docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../public_api_status/" class="md-nav__link">
        Public API Status
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      <label class="md-nav__link" for="__nav_3_2">
        Driver
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Driver" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Driver
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/base_driver/" class="md-nav__link">
        Base Driver Arguments
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/generic_driver/" class="md-nav__link">
        Generic Driver Arguments
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/network_driver/" class="md-nav__link">
        Network Driver Arguments
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_4" type="checkbox" id="__nav_3_2_4" >
      
      <label class="md-nav__link" for="__nav_3_2_4">
        Base
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Base" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_2_4">
          <span class="md-nav__icon md-icon"></span>
          Base
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/base/base_driver/" class="md-nav__link">
        Base Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/base/sync_driver/" class="md-nav__link">
        Sync Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/base/async_driver/" class="md-nav__link">
        Async Driver
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_5" type="checkbox" id="__nav_3_2_5" >
      
      <label class="md-nav__link" for="__nav_3_2_5">
        Generic
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Generic" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_2_5">
          <span class="md-nav__icon md-icon"></span>
          Generic
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/generic/base_driver/" class="md-nav__link">
        Base Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/generic/sync_driver/" class="md-nav__link">
        Sync Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/generic/async_driver/" class="md-nav__link">
        Async Driver
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_6" type="checkbox" id="__nav_3_2_6" >
      
      <label class="md-nav__link" for="__nav_3_2_6">
        Network
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Network" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_2_6">
          <span class="md-nav__icon md-icon"></span>
          Network
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/network/base_driver/" class="md-nav__link">
        Base Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/network/sync_driver/" class="md-nav__link">
        Sync Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/network/async_driver/" class="md-nav__link">
        Async Driver
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_7" type="checkbox" id="__nav_3_2_7" >
      
      <label class="md-nav__link" for="__nav_3_2_7">
        Core
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Core" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_2_7">
          <span class="md-nav__icon md-icon"></span>
          Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_7_1" type="checkbox" id="__nav_3_2_7_1" >
      
      <label class="md-nav__link" for="__nav_3_2_7_1">
        Arista EOS
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Arista EOS" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_2_7_1">
          <span class="md-nav__icon md-icon"></span>
          Arista EOS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/arista_eos/base_driver/" class="md-nav__link">
        Base Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/arista_eos/sync_driver/" class="md-nav__link">
        Sync Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/arista_eos/async_driver/" class="md-nav__link">
        Async Driver
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_7_2" type="checkbox" id="__nav_3_2_7_2" >
      
      <label class="md-nav__link" for="__nav_3_2_7_2">
        Cisco IOSXE
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Cisco IOSXE" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_2_7_2">
          <span class="md-nav__icon md-icon"></span>
          Cisco IOSXE
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/cisco_iosxe/base_driver/" class="md-nav__link">
        Base Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/cisco_iosxe/sync_driver/" class="md-nav__link">
        Sync Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/cisco_iosxe/async_driver/" class="md-nav__link">
        Async Driver
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_7_3" type="checkbox" id="__nav_3_2_7_3" >
      
      <label class="md-nav__link" for="__nav_3_2_7_3">
        Cisco IOSXR
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Cisco IOSXR" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_2_7_3">
          <span class="md-nav__icon md-icon"></span>
          Cisco IOSXR
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/cisco_iosxr/base_driver/" class="md-nav__link">
        Base Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/cisco_iosxr/sync_driver/" class="md-nav__link">
        Sync Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/cisco_iosxr/async_driver/" class="md-nav__link">
        Async Driver
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_7_4" type="checkbox" id="__nav_3_2_7_4" >
      
      <label class="md-nav__link" for="__nav_3_2_7_4">
        Cisco NXOS
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Cisco NXOS" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_2_7_4">
          <span class="md-nav__icon md-icon"></span>
          Cisco NXOS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/cisco_nxos/base_driver/" class="md-nav__link">
        Base Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/cisco_nxos/sync_driver/" class="md-nav__link">
        Sync Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/cisco_nxos/async_driver/" class="md-nav__link">
        Async Driver
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2_7_5" type="checkbox" id="__nav_3_2_7_5" >
      
      <label class="md-nav__link" for="__nav_3_2_7_5">
        Juniper Junos
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Juniper Junos" data-md-level="4">
        <label class="md-nav__title" for="__nav_3_2_7_5">
          <span class="md-nav__icon md-icon"></span>
          Juniper Junos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/juniper_junos/base_driver/" class="md-nav__link">
        Base Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/juniper_junos/sync_driver/" class="md-nav__link">
        Sync Driver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/driver/core/juniper_junos/async_driver/" class="md-nav__link">
        Async Driver
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      <label class="md-nav__link" for="__nav_3_3">
        Channel
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Channel" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Channel
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/channel/base_channel/" class="md-nav__link">
        Base Channel
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/channel/sync_channel/" class="md-nav__link">
        Sync Channel
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/channel/async_channel/" class="md-nav__link">
        Async Channel
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      <label class="md-nav__link" for="__nav_3_4">
        Transports
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Transports" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Transports
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4_1" type="checkbox" id="__nav_3_4_1" >
      
      <label class="md-nav__link" for="__nav_3_4_1">
        Base
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Base" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_4_1">
          <span class="md-nav__icon md-icon"></span>
          Base
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/transport/base/base_transport/" class="md-nav__link">
        Base Transport
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/transport/base/sync_transport/" class="md-nav__link">
        Sync Transport
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/transport/base/async_transport/" class="md-nav__link">
        Async Transport
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/transport/base/base_socket/" class="md-nav__link">
        Socket
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4_2" type="checkbox" id="__nav_3_4_2" >
      
      <label class="md-nav__link" for="__nav_3_4_2">
        Plugins
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Plugins" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_4_2">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/transport/plugins/asyncssh/" class="md-nav__link">
        Asyncssh
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/transport/plugins/asynctelnet/" class="md-nav__link">
        Asynctelnet
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/transport/plugins/paramiko/" class="md-nav__link">
        Paramiko
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/transport/plugins/ssh2/" class="md-nav__link">
        SSH2
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/transport/plugins/system/" class="md-nav__link">
        System
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/transport/plugins/telnet/" class="md-nav__link">
        Telnet
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/decorators/" class="md-nav__link">
        Decorators
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/exceptions/" class="md-nav__link">
        Exceptions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/factory/" class="md-nav__link">
        Factory
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/helper/" class="md-nav__link">
        Helper
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/response/" class="md-nav__link">
        Response
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_docs/ssh_config/" class="md-nav__link">
        SSH Config
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        More Scrapli
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="More Scrapli" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          More Scrapli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../more_scrapli/nornir_scrapli/" class="md-nav__link">
        Nornir Scrapli
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../more_scrapli/scrapli_community/" class="md-nav__link">
        Scrapli Community
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../more_scrapli/scrapli_netconf/" class="md-nav__link">
        Scrapli Netconf
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../more_scrapli/scrapli_stubs/" class="md-nav__link">
        Scrapli Stubs
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Other
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Other" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Other
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/code_of_conduct/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/thank_you/" class="md-nav__link">
        Thank Yous
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#picking-the-right-driver" class="md-nav__link">
    Picking the right Driver
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-driver-arguments" class="md-nav__link">
    Basic Driver Arguments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#opening-and-closing-a-connection" class="md-nav__link">
    Opening and Closing a Connection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sending-commands" class="md-nav__link">
    Sending Commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-object" class="md-nav__link">
    Response Object
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sending-configurations" class="md-nav__link">
    Sending Configurations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#textfsmntc-templates-integration" class="md-nav__link">
    Textfsm/NTC-Templates Integration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cisco-genie-integration" class="md-nav__link">
    Cisco Genie Integration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ttp-integration" class="md-nav__link">
    TTP Integration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-prompts" class="md-nav__link">
    Handling Prompts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telnet" class="md-nav__link">
    Telnet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssh-config-support" class="md-nav__link">
    SSH Config Support
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="basic-usage">Basic Usage<a class="headerlink" href="#basic-usage" title="Permanent link">&para;</a></h1>
<h2 id="picking-the-right-driver">Picking the right Driver<a class="headerlink" href="#picking-the-right-driver" title="Permanent link">&para;</a></h2>
<p>Assuming you are using scrapli to connect to one of the five "core" platforms, you should almost always use the
 provided corresponding "core" driver. For example if you are connecting to an Arista EOS device, you should use the
  <code>EOSDriver</code>. You can select this driver "manually" or using the scrapli factory <code>Scrapli</code> (or the async scrapli
   factory <code>AsyncScrapli</code>).</p>
<p>Importing your driver manually looks like this:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">EOSDriver</span>
</code></pre></div>
</td></tr></table>
<p>If you are using asyncio, you can use the async variant of the driver:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">AsyncEOSDriver</span>
</code></pre></div>
</td></tr></table>
<p>The core drivers and associated platforms are outlined below:</p>
<table>
<thead>
<tr>
<th>Platform/OS</th>
<th>Scrapli Driver</th>
<th>Scrapli Async Driver</th>
<th>Platform Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cisco IOS-XE</td>
<td>IOSXEDriver</td>
<td>AsyncIOSXEDriver</td>
<td>cisco_iosxe</td>
</tr>
<tr>
<td>Cisco NX-OS</td>
<td>NXOSDriver</td>
<td>AsyncNXOSDriver</td>
<td>cisco_nxos</td>
</tr>
<tr>
<td>Cisco IOS-XR</td>
<td>IOSXRDriver</td>
<td>AsyncIOSXRDriver</td>
<td>cisco_iosxr</td>
</tr>
<tr>
<td>Arista EOS</td>
<td>EOSDriver</td>
<td>AsyncEOSDriver</td>
<td>arista_eos</td>
</tr>
<tr>
<td>Juniper JunOS</td>
<td>JunosDriver</td>
<td>AsyncJunosDriver</td>
<td>juniper_junos</td>
</tr>
</tbody>
</table>
<p>All drivers can be imported from <code>scrapli.driver.core</code>.</p>
<p>If you would rather use the factory class to dynamically select the appropriate driver based on a platform string (as
 seen in the above table), you can do so as follows:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli</span> <span class="kn">import</span> <span class="n">Scrapli</span>

<span class="n">device</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
   <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
   <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
   <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
   <span class="s2">&quot;platform&quot;</span><span class="p">:</span> <span class="s2">&quot;cisco_iosxe&quot;</span>
<span class="p">}</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">Scrapli</span><span class="p">(</span><span class="o">**</span><span class="n">device</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">conn</span><span class="o">.</span><span class="n">get_prompt</span><span class="p">())</span>
</code></pre></div>
</td></tr></table>
<p>Note that the <code>Scrapli</code> and <code>AsyncScrapli</code> classes inherit from the <code>NetworkDriver</code> and <code>AsyncNetworkDriver</code> classes
 respectively, so all editor code completion and type indicating behavior should work nicely! For non "core
 " platforms please see the <a href="https://github.com/scrapli/scrapli_community">scrapli_community project</a>.</p>
<p>If you are working with a platform not listed above (and/or is not in the scrapli community project), you have three
 options: </p>
<ol>
<li>You can use the (base)<code>Driver</code> driver directly, which you can read about <a href="/user_guide/advanced_usage/#using-driver-directly">here</a></li>
<li>You can use the <code>GenericDriver</code> which you can read about <a href="/user_guide/advanced_usage/#using-the-genericdriver">here</a></li>
<li>You can use the <code>NetworkDriver</code> which is similar to option 2 but you will need to understand/provide privilege
/prompt information so scrapli can properly escalate/deescalate to/from configuration (or other) modes.</li>
</ol>
<p>In general you should probably simply create a scrapli community platform (read about adding a platform
 <a href="https://github.com/scrapli/scrapli_community#adding-a-platform">here</a>, but failing that the <code>GenericDriver</code> is
  probably the simplest path forward.</p>
<p>Note: if you are using async you <em>must</em> set the transport to <code>asyncssh</code> or <code>asynctelnet</code>!</p>
<h2 id="basic-driver-arguments">Basic Driver Arguments<a class="headerlink" href="#basic-driver-arguments" title="Permanent link">&para;</a></h2>
<p>The drivers of course need some information about the device you are trying to connect to. The most common arguments
 to provide to the driver are outlined below:</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Purpose/Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>host</td>
<td>name/ip of host to connect to</td>
</tr>
<tr>
<td>port</td>
<td>port of host to connect to (defaults to port 22)</td>
</tr>
<tr>
<td>auth_username</td>
<td>username for authentication</td>
</tr>
<tr>
<td>auth_password</td>
<td>password for authentication</td>
</tr>
<tr>
<td>auth_secondary</td>
<td>password for secondary authentication (enable password)</td>
</tr>
<tr>
<td>auth_private_key</td>
<td>private key for authentication</td>
</tr>
<tr>
<td>auth_strict_key</td>
<td>strict key checking -- TRUE by default!</td>
</tr>
<tr>
<td>ssh_config_file</td>
<td>True/False or path to ssh config file to use</td>
</tr>
</tbody>
</table>
<p>These arguments may be passed as keyword arguments to the driver of your choice, or, commonly are passed via
 dictionary unpacking as show below:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">IOSXRDriver</span>

<span class="n">my_device</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">IOSXRDriver</span><span class="p">(</span><span class="o">**</span><span class="n">my_device</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
<p><em>NOTE</em> that scrapli enables strict host key checking by default!</p>
<h2 id="opening-and-closing-a-connection">Opening and Closing a Connection<a class="headerlink" href="#opening-and-closing-a-connection" title="Permanent link">&para;</a></h2>
<p>scrapli does <em>not</em> open the connection for you when creating your scrapli connection object in normal operations, you
 must manually call the <code>open</code> method prior to sending any commands to the device as shown below.</p>
<p>```python
from scrapli.driver.core import IOSXRDriver</p>
<p>my_device = {
    "host": "172.18.0.11",
    "auth_username": "vrnetlab",
    "auth_password": "VR-netlab9",
    "auth_strict_key": False,
}</p>
<p>conn = IOSXRDriver(**my_device)
conn.open()
response = conn.send_command("show version")
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>Connections can be closed by calling the `close` method:

```python
conn.close()
</code></pre></div>
</td></tr></table></p>
<p>scrapli also supports using a context manager (<code>with</code> block), when using the context manager the connection will be
 automatically opened and closed for you. </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">IOSXEDriver</span>

<span class="n">my_device</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">with</span> <span class="n">IOSXEDriver</span><span class="p">(</span><span class="o">**</span><span class="n">my_device</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;show version&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<h2 id="sending-commands">Sending Commands<a class="headerlink" href="#sending-commands" title="Permanent link">&para;</a></h2>
<p>When using any of the core network drivers (<code>JunosDriver</code>, <code>EOSDriver</code>, etc.) or the <code>GenericDriver</code>, the <code>send_command</code> and <code>send_commands</code> methods will respectively send a single command or list of commands to the device.</p>
<p>When using the core network drivers, the command(s) will be sent at the <code>default_desired_privilege_level</code> level which is
 typically "privilege exec" (or equivalent) privilege level. Please see <a href="/user_guide/advanced_usage/#driver-privilege-levels">Driver Privilege Levels</a>
  in the advanced usage section for more details on privilege levels. As the <code>GenericDriver</code> doesn't know or
  care about privilege levels you would need to manually handle acquiring the appropriate privilege level for you
   command yourself if using that driver.</p>
<p>Note the different methods for sending a single command versus a list of commands!</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">IOSXEDriver</span>

<span class="n">my_device</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">IOSXEDriver</span><span class="p">(</span><span class="o">**</span><span class="n">my_device</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;show version&quot;</span><span class="p">)</span>
<span class="n">responses</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">send_commands</span><span class="p">([</span><span class="s2">&quot;show run&quot;</span><span class="p">,</span> <span class="s2">&quot;show ip int brief&quot;</span><span class="p">])</span>
</code></pre></div>
</td></tr></table>
<p>Finally, if you prefer to have a file containing a list of commands to send, there is a <code>send_commands_from_file</code> method
. This method excepts the provided file to have a single command to send per line in the file.</p>
<h2 id="response-object">Response Object<a class="headerlink" href="#response-object" title="Permanent link">&para;</a></h2>
<p>All command/config operations that happen in the <code>GenericDriver</code> or any of the drivers inheriting from the
 <code>NetworkDriver</code> result in a <code>Response</code> object being created. The <code>Response</code> object contains attributes for the
  command sent (<code>channel_input</code>), start/end/elapsed time, and of course the result of the command sent.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">IOSXEDriver</span>

<span class="n">my_device</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">IOSXEDriver</span><span class="p">(</span><span class="o">**</span><span class="n">my_device</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;show version&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>If using <code>send_commands</code> (plural!) then scrapli will return a <code>MultiResponse</code> object containing multiple <code>Response</code>
 objects. The <code>MultiResponse</code> object is for all intents and purposes just a list of <code>Response</code> objects (with a few
  very minor differences).</p>
<p>In addition to containing the input and output of the command(s) that you sent, the <code>Response</code> object also contains a
 method <code>textfsm_parse_output</code> (for more on TextFSM support see
 <a href="#textfsmntc-templates-integration">Textfsm/NTC-Templates Integration</a>) which will attempt to parse and return the
  received output. If parsing fails, the value returned will be an empty list -- meaning you will <em>always</em> get
   "structured data" returned, however it will just be an empty object if parsing fails.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">structured_result</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">textfsm_parse_output</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">structured_result</span><span class="p">)</span>
<span class="p">[[</span><span class="s1">&#39;16.4.1&#39;</span><span class="p">,</span> <span class="s1">&#39;IOS-XE&#39;</span><span class="p">,</span> <span class="s1">&#39;csr1000v&#39;</span><span class="p">,</span> <span class="s1">&#39;2 days, 22 hours, 10 minutes&#39;</span><span class="p">,</span> <span class="s1">&#39;reload&#39;</span><span class="p">,</span> <span class="s1">&#39;packages.conf&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;CSR1000V&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;9FKLJWM5EB0&#39;</span><span class="p">],</span> <span class="s1">&#39;0x2102&#39;</span><span class="p">,</span> <span class="p">[]]]</span>
</code></pre></div>
</td></tr></table>
<h2 id="sending-configurations">Sending Configurations<a class="headerlink" href="#sending-configurations" title="Permanent link">&para;</a></h2>
<p>When using any of the core drivers, you can send configurations via the <code>send_config</code>, <code>send_configs</code> or
 <code>send_configs_from_file</code> methods which will handle privilege escalation for you. <code>send_config</code> accepts a single
  string, <code>send_configs</code> accepts a list of strings, and of course <code>send_configs_from_file</code> accepts a string path to a
   file containing configurations to send. Note that <code>send_configs_from_file</code> -- just like with it's commands sibling
    -- will treat each line in the file as a configuration element, in this way it behaves much like <code>send_configs</code>.</p>
<p>Lastly, it is good to know that <code>send_config</code> (singular!) will parse the configuration string provided and split it
 into lines -- this means that the underlying behavior is the same as <code>send_configs</code>, however this method returns a
  single <code>Response</code> object. This <code>send_config</code> method can be used to send entire configurations to devices in a
   reliable fashion.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">IOSXEDriver</span>

<span class="n">my_device</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">with</span> <span class="n">IOSXEDriver</span><span class="p">(</span><span class="o">**</span><span class="n">my_device</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">send_configs</span><span class="p">([</span><span class="s2">&quot;interface loopback123&quot;</span><span class="p">,</span> <span class="s2">&quot;description configured by scrapli&quot;</span><span class="p">])</span>
</code></pre></div>
</td></tr></table>
<p>If you need to get into any kind of "special" configuration mode, such as "configure exclusive", "configure private
", or "configure session XYZ", you can pass the name of the corresponding privilege level via the <code>privilege_level</code> argument. Please see the <a href="/user_guide/advanced_usage/#driver-privilege-levels">Driver Privilege Levels</a> section for more details!</p>
<p>Lastly, note that scrapli does <em>not</em> exit configuration mode at completion of a "configuration" event -- this is
 because scrapli (with the Network drivers) will automatically acquire <code>default_desired_privilege_level</code> before
  sending a "command" -- so there is no need, from a scrapli perspective, to explicitly exit config mode at end of
   the configuration session.</p>
<h2 id="textfsmntc-templates-integration">Textfsm/NTC-Templates Integration<a class="headerlink" href="#textfsmntc-templates-integration" title="Permanent link">&para;</a></h2>
<p>scrapli supports parsing output with TextFSM and ntc-templates. This of course requires installing TextFSM and having
 ntc-templates somewhere on your system. When using a platform driver (i.e. <code>IOSXEDriver</code>) the textfsm-platform will be
 set for you (based on the driver device type). If you wish to parse the output of your send commands, you can use the
  <code>textfsm_parse_output</code> method of the response object. This method will attempt to find the template for you
   -- based on the textfsm-platform and the channel-input (the command sent). If textfsm parsing succeeds, the
    structured result is returned. If textfsm parsing fails, an empty list is returned.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">IOSXEDriver</span>

<span class="n">my_device</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">with</span> <span class="n">IOSXEDriver</span><span class="p">(</span><span class="o">**</span><span class="n">my_device</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;show version&quot;</span><span class="p">)</span>
    <span class="n">structured_result</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">textfsm_parse_output</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">structured_result</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p>scrapli also supports passing in templates manually (meaning not using the pip installed ntc-templates directory to
 find templates) if desired. The <code>scrapli.helper.textfsm_parse</code> function accepts a string or loaded (TextIOWrapper
 ) template and output to parse. This can be useful if you have custom or one off templates or don't want to pip
  install ntc-templates.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">IOSXEDriver</span>
<span class="kn">from</span> <span class="nn">scrapli.helper</span> <span class="kn">import</span> <span class="n">textfsm_parse</span>

<span class="n">my_device</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">with</span> <span class="n">IOSXEDriver</span><span class="p">(</span><span class="o">**</span><span class="n">my_device</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;show version&quot;</span><span class="p">)</span>
    <span class="n">structured_result</span> <span class="o">=</span> <span class="n">textfsm_parse</span><span class="p">(</span><span class="s2">&quot;/path/to/my/template&quot;</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p><em>NOTE</em>: If a template does not return structured data an empty list will be returned!</p>
<p><em>NOTE</em>: Textfsm and ntc-templates is an optional extra for scrapli; you can install these modules manually or using
 the optional extras install via pip:</p>
<p><code>pip install scrapli[textfsm]</code></p>
<h2 id="cisco-genie-integration">Cisco Genie Integration<a class="headerlink" href="#cisco-genie-integration" title="Permanent link">&para;</a></h2>
<p>Very much the same as the textfsm/ntc-templates integration, scrapli has optional integration with Cisco's PyATS
/Genie parsing library for parsing show command output. While there are parsers for non-Cisco platforms, this is
 currently just an option for Cisco platforms within scrapli.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">IOSXEDriver</span>

<span class="n">my_device</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">with</span> <span class="n">IOSXEDriver</span><span class="p">(</span><span class="o">**</span><span class="n">my_device</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;show version&quot;</span><span class="p">)</span>
    <span class="n">structured_result</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">genie_parse_output</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">structured_result</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p><em>NOTE</em>: If a parser does not return structured data an empty list will be returned!</p>
<p><em>NOTE</em>: PyATS and Genie is an optional extra for scrapli; you can install these modules manually or using
 the optional extras install via pip:</p>
<p><code>pip install scrapli[genie]</code></p>
<h2 id="ttp-integration">TTP Integration<a class="headerlink" href="#ttp-integration" title="Permanent link">&para;</a></h2>
<p>The scrapli response object also contains a <code>ttp_parse_output</code> method, that, as you may have guessed, uses the 
 <a href="https://github.com/dmulyalin/ttp">ttp</a> library to parse output received from the device. Other than the obvious
  difference that this is in fact a different type of parser, the only difference from a usage perspective is that
   the <code>ttp_parse_output</code> method requires a template string, string path to a template, or loaded (TextIOWrapper
   ) template string to be passed. This is because there is no index or mapping of platform:command:template as there
    is with TextFSM/ntc-templates and genie.</p>
<p>An example ttp file (slightly modified from the great ttp quickstart guide) - in this case we'll pretend this file is
 called "my_template.ttp":</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>interface {{ interface }}
 ip address {{ ip }} {{ mask }}
 description {{ description }}
</code></pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">IOSXEDriver</span>

<span class="n">my_device</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">with</span> <span class="n">IOSXEDriver</span><span class="p">(</span><span class="o">**</span><span class="n">my_device</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">send_command</span><span class="p">(</span><span class="s2">&quot;show run interface GigabitEthernet1&quot;</span><span class="p">)</span>
    <span class="n">structured_result</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">ttp_parse_output</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="s2">&quot;my_template.ttp&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">structured_result</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
<p><em>NOTE</em>: If a parser does parse data, ttp will return an empty list (as with the other parser methods)</p>
<p><em>NOTE</em>: ttp is an optional extra for scrapli; you can install these modules manually or using the optional extras
 install via pip:</p>
<p><code>pip install scrapli[ttp]</code></p>
<h2 id="handling-prompts">Handling Prompts<a class="headerlink" href="#handling-prompts" title="Permanent link">&para;</a></h2>
<p>In some cases you may need to run an "interactive" command on your device. The <code>send_interactive</code> method of the
 <code>GenericDriver</code> or its sub-classes (<code>NetworkDriver</code> and "core" drivers) can be used to accomplish this. This method
  accepts a list of "interact_events" -- or basically commands you would like to send, and their expected resulting
   prompt. A third, optional, element is available for each "interaction", this last element is a bool that indicates
    weather or not the input that you are sending to the device is "hidden" or obfuscated by the device. This is
     typically used for password prompts where the input that is sent does not show up on the screen (if you as a
      human are sitting on a terminal typing).</p>
<p>This method can accept one or N "events" and thus can be used to deal with any number of subsequent prompts. </p>
<p>One last important item about this method is that it accepts an argument <code>privilege_level</code> -- the value of this
 argument should be the name of the privilege level that you would like to execute the interactive command at
 . This is an optional argument, with a default of the <code>default_desired_privilege_level</code> attribute which is normally
  "privilege exec" or similar depending on the platform. </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">IOSXEDriver</span>

<span class="n">my_device</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">with</span> <span class="n">IOSXEDriver</span><span class="p">(</span><span class="o">**</span><span class="n">my_device</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="n">interactive</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">send_interactive</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;copy flash: scp:&quot;</span><span class="p">,</span> <span class="s2">&quot;Source filename []?&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;somefile.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;Address or name of remote host []?&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;172.31.254.100&quot;</span><span class="p">,</span> <span class="s2">&quot;Destination username [carl]?&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;scrapli&quot;</span><span class="p">,</span> <span class="s2">&quot;Password:&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;super_secure_password&quot;</span><span class="p">,</span> <span class="s2">&quot;csr1000v#&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>
</code></pre></div>
</td></tr></table>
<h2 id="telnet">Telnet<a class="headerlink" href="#telnet" title="Permanent link">&para;</a></h2>
<p>scrapli supports telnet as a transport driver via the standard library module <code>telnetlib</code>. Telnet is a bit of a
 special case for scrapli, here are the things you need to know if you wish to use Telnet:</p>
<ul>
<li>Currently, you <em>must</em> set the port number. At the moment scrapli assumes SSH and defaults to port 22, even if you
 specify the telnet driver. This could obviously change in the future but for now, specify your telnet port!</li>
<li>You can set the username and password prompt expect string after your connection object instantiation
 and before calling the <code>open</code> method -- this means if you have non-default prompts you cannot use scrapli with a
  context manager and Telnet (because the context manager calls open for you). You can set the prompts using the
   following attributes of the <code>Scrape</code> object:</li>
<li><code>username_prompt</code></li>
<li><code>password_prompt</code></li>
<li>When using telnet you may need to set the <code>comms_return_char</code> to <code>\r\n</code> the tests against the core platforms pass
 without this, however it seems that some console server type devices are looking for this <code>\r\n</code> pattern instead of
  the default <code>\n</code> pattern.</li>
</ul>
<p>If telnet for some reason becomes an important use case, the telnet Transport layer can be improved/augmented.</p>
<h2 id="ssh-config-support">SSH Config Support<a class="headerlink" href="#ssh-config-support" title="Permanent link">&para;</a></h2>
<p>scrapli supports using OpenSSH configuration files in a few ways. For "system" SSH transport (default setting
), passing a path to a config file will simply make scrapli "point" to that file, and therefore use that
 configuration files attributes (because it is just exec'ing system SSH!). You can also pass <code>True</code> to let 
scrapli search in system default locations for a ssh config file (<code>~/.ssh/config</code> and <code>/etc/ssh/ssh_config</code>).</p>
<p>SSH transports other than "system" transport may support <em>some</em> subset of the OpenSSH configuration files, but will 
not provide full support. Asyncssh, for example, will automatically pick up and handle proxy-jumps, SSH keys, and 
some other items -- this is a 100% asyncssh feature and has nothing to do with scrapli (other than the fact that 
scrapli allows you to use asyncssh).</p>
<p><em>NOTE</em> -- scrapli does NOT disable strict host checking by default. Obviously this is the "smart" behavior, but it
 can be overridden on a per host basis in your SSH config file, or by passing <code>False</code> to the "auth_strict_key
 " argument on object instantiation.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">scrapli.driver.core</span> <span class="kn">import</span> <span class="n">IOSXEDriver</span>

<span class="n">my_device</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;172.18.0.11&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_username&quot;</span><span class="p">:</span> <span class="s2">&quot;vrnetlab&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_password&quot;</span><span class="p">:</span> <span class="s2">&quot;VR-netlab9&quot;</span><span class="p">,</span>
    <span class="s2">&quot;auth_strict_key&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;ssh_config_file&quot;</span><span class="p">:</span> <span class="s2">&quot;~/my_ssh_config&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">with</span> <span class="n">IOSXEDriver</span><span class="p">(</span><span class="o">**</span><span class="n">my_device</span><span class="p">)</span> <span class="k">as</span> <span class="n">conn</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">conn</span><span class="o">.</span><span class="n">get_prompt</span><span class="p">())</span>
</code></pre></div>
</td></tr></table>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../installation/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Installation
            </div>
          </div>
        </a>
      
      
        <a href="../advanced_usage/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Advanced Usage
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/carlmontanari/" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/carlrmontanari" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.linkedin.com/in/carl-montanari-47888931/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://montanari.io" target="_blank" rel="noopener" title="montanari.io" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.9b151c6a.min.js"></script>
      
    
  </body>
</html>